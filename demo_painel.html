<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesla - Painel Administrativo | Nikola Energia</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0a0f1a 0%, #111827 50%, #0f172a 100%);
            color: #f1f5f9;
            min-height: 100vh;
        }

        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background: radial-gradient(circle at 20% 20%, rgba(56, 189, 248, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 80% 80%, rgba(6, 182, 212, 0.06) 0%, transparent 40%);
        }

        .app {
            position: relative;
            z-index: 1;
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(15, 23, 42, 0.95);
            border-right: 1px solid rgba(255, 255, 255, 0.06);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            z-index: 100;
        }

        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #38bdf8 0%, #06b6d4 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 8px 24px rgba(56, 189, 248, 0.3);
        }

        .logo-title {
            font-weight: 800;
            font-size: 1.3em;
            color: #f1f5f9;
        }

        .logo-subtitle {
            font-size: 0.75em;
            color: #64748b;
        }

        .sidebar-nav {
            flex: 1;
            padding: 20px 12px;
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-section-title {
            font-size: 0.7em;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            color: #64748b;
            padding: 0 12px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.25s ease;
            color: #94a3b8;
            font-weight: 500;
            font-size: 0.95em;
            margin-bottom: 4px;
            position: relative;
        }

        .nav-item:hover {
            background: rgba(56, 189, 248, 0.08);
            color: #f1f5f9;
        }

        .nav-item.active {
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.15), rgba(6, 182, 212, 0.1));
            color: #38bdf8;
            box-shadow: 0 4px 16px rgba(56, 189, 248, 0.15);
        }

        .nav-icon {
            font-size: 1.3em;
            width: 28px;
            text-align: center;
        }

        .nav-badge {
            margin-left: auto;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 700;
        }

        .nav-badge.red {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .nav-badge.green {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.06);
        }

        .user-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
        }

        .user-avatar {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9em;
            color: #f1f5f9;
        }

        .user-role {
            font-size: 0.75em;
            color: #64748b;
        }

        /* Main */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 24px 32px;
            min-height: 100vh;
        }

        .main-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 28px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .page-title h1 {
            font-size: 1.8em;
            font-weight: 800;
            color: #f1f5f9;
        }

        .page-title p {
            color: #64748b;
            font-size: 0.95em;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .search-box {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 12px 16px;
            min-width: 280px;
        }

        .search-box input {
            background: transparent;
            border: none;
            outline: none;
            color: #f1f5f9;
            width: 100%;
        }

        .search-box input::placeholder {
            color: #64748b;
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            background: rgba(16, 185, 129, 0.15);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 20px;
            font-size: 0.85em;
            color: #10b981;
            font-weight: 600;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.3);
                opacity: 0.7;
            }
        }

        /* Demo Banner */
        .demo-banner {
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.12), rgba(6, 182, 212, 0.08));
            border: 1px solid rgba(56, 189, 248, 0.25);
            border-radius: 16px;
            padding: 20px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 28px;
        }

        .demo-banner-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #38bdf8, #06b6d4);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            flex-shrink: 0;
        }

        .demo-banner-title {
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 4px;
        }

        .demo-banner-text {
            color: #94a3b8;
            font-size: 0.9em;
        }

        .demo-banner-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #38bdf8, #06b6d4);
            border: none;
            border-radius: 12px;
            color: #0f172a;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.25s ease;
            white-space: nowrap;
        }

        .demo-banner-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 24px rgba(56, 189, 248, 0.4);
        }

        /* KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 28px;
        }

        .kpi-card {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.7) 0%, rgba(15, 23, 42, 0.8) 100%);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 20px;
            padding: 24px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .kpi-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
        }

        .kpi-card.blue::before {
            background: linear-gradient(90deg, #38bdf8, #0ea5e9);
        }

        .kpi-card.green::before {
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .kpi-card.amber::before {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .kpi-card.purple::before {
            background: linear-gradient(90deg, #a855f7, #7c3aed);
        }

        .kpi-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .kpi-icon {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }

        .kpi-card.blue .kpi-icon {
            background: rgba(56, 189, 248, 0.15);
        }

        .kpi-card.green .kpi-icon {
            background: rgba(16, 185, 129, 0.15);
        }

        .kpi-card.amber .kpi-icon {
            background: rgba(245, 158, 11, 0.15);
        }

        .kpi-card.purple .kpi-icon {
            background: rgba(168, 85, 247, 0.15);
        }

        .kpi-trend {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 6px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .kpi-trend.up {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
        }

        .kpi-value {
            font-size: 2.5em;
            font-weight: 800;
            margin-bottom: 4px;
            color: #f1f5f9;
        }

        .kpi-label {
            color: #64748b;
            font-size: 0.9em;
            font-weight: 500;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 1.4fr 0.6fr;
            gap: 24px;
        }

        @media (max-width: 1200px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Panels */
        .panel {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.7) 0%, rgba(15, 23, 42, 0.8) 100%);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .panel-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            color: #f1f5f9;
        }

        .panel-btn {
            padding: 8px 16px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
            font-size: 0.85em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .panel-btn:hover {
            background: rgba(56, 189, 248, 0.2);
        }

        .panel-body {
            padding: 20px 24px;
        }

        /* Project Cards */
        .project-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .project-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .project-card:hover {
            border-color: rgba(56, 189, 248, 0.3);
            transform: translateY(-2px);
        }

        .project-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .project-info {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .project-avatar {
            width: 48px;
            height: 48px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .project-card:nth-child(1) .project-avatar {
            background: linear-gradient(135deg, #38bdf8, #0ea5e9);
        }

        .project-card:nth-child(2) .project-avatar {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .project-card:nth-child(3) .project-avatar {
            background: linear-gradient(135deg, #a855f7, #7c3aed);
        }

        .project-name {
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 2px;
        }

        .project-meta {
            color: #64748b;
            font-size: 0.85em;
        }

        .project-status {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .status-progress {
            background: rgba(56, 189, 248, 0.15);
            color: #38bdf8;
        }

        .status-homolog {
            background: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
        }

        .status-complete {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
        }

        .progress-section {
            margin-bottom: 16px;
        }

        .progress-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .progress-label {
            color: #94a3b8;
            font-size: 0.85em;
        }

        .progress-value {
            color: #38bdf8;
            font-weight: 700;
            font-size: 0.85em;
        }

        .progress-bar {
            height: 8px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .project-card:nth-child(1) .progress-fill {
            background: linear-gradient(90deg, #38bdf8, #0ea5e9);
        }

        .project-card:nth-child(2) .progress-fill {
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .project-card:nth-child(3) .progress-fill {
            background: linear-gradient(90deg, #a855f7, #7c3aed);
        }

        .stages-mini {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .stage-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(100, 116, 139, 0.4);
        }

        .stage-dot.done {
            background: #10b981;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
        }

        .stage-dot.current {
            background: #38bdf8;
            box-shadow: 0 0 12px rgba(56, 189, 248, 0.6);
            animation: pulse 2s infinite;
        }

        /* Activity Feed */
        .activity-feed {
            display: flex;
            flex-direction: column;
            gap: 4px;
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            gap: 14px;
            padding: 14px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.04);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .activity-icon.doc {
            background: rgba(56, 189, 248, 0.15);
        }

        .activity-icon.success {
            background: rgba(16, 185, 129, 0.15);
        }

        .activity-icon.warning {
            background: rgba(245, 158, 11, 0.15);
        }

        .activity-icon.info {
            background: rgba(168, 85, 247, 0.15);
        }

        .activity-text {
            color: #e2e8f0;
            font-size: 0.9em;
            line-height: 1.5;
            margin-bottom: 4px;
        }

        .activity-text strong {
            color: #38bdf8;
        }

        .activity-time {
            color: #64748b;
            font-size: 0.8em;
        }

        /* Alerts */
        .alert-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            background: rgba(245, 158, 11, 0.08);
            border: 2px solid rgba(245, 158, 11, 0.4);
            border-radius: 14px;
            margin-bottom: 12px;
            animation: alertPulse 2s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .alert-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(245, 158, 11, 0.15), transparent);
            animation: alertShine 3s ease-in-out infinite;
        }

        @keyframes alertPulse {

            0%,
            100% {
                box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4);
                border-color: rgba(245, 158, 11, 0.4);
            }

            50% {
                box-shadow: 0 0 20px 4px rgba(245, 158, 11, 0.3);
                border-color: rgba(245, 158, 11, 0.7);
            }
        }

        @keyframes alertShine {
            0% {
                left: -100%;
            }

            50%,
            100% {
                left: 100%;
            }
        }

        .alert-icon-pulse {
            animation: iconBlink 1s ease-in-out infinite;
        }

        @keyframes iconBlink {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.6;
                transform: scale(1.1);
            }
        }

        .alert-title {
            font-weight: 600;
            color: #f59e0b;
            margin-bottom: 4px;
            font-size: 0.9em;
        }

        .alert-description {
            color: #cbd5e1;
            font-size: 0.85em;
        }

        /* Alerts Bar - Top Horizontal */
        .alerts-bar {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(239, 68, 68, 0.05));
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: 16px;
            padding: 12px 16px;
            margin-bottom: 20px;
            min-height: 60px;
            display: flex;
            align-items: center;
        }

        .alerts-bar-inner {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 4px;
            width: 100%;
            flex-wrap: wrap;
        }

        .alert-chip {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(15, 23, 42, 0.8);
            border: 2px solid rgba(245, 158, 11, 0.5);
            border-radius: 10px;
            flex-shrink: 1;
            min-width: 0;
            animation: chipPulse 2s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .alert-chip:hover {
            transform: scale(1.03);
            border-color: rgba(245, 158, 11, 0.8);
        }

        @keyframes chipPulse {

            0%,
            100% {
                box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4);
                border-color: rgba(245, 158, 11, 0.5);
            }

            50% {
                box-shadow: 0 0 15px 3px rgba(245, 158, 11, 0.25);
                border-color: rgba(245, 158, 11, 0.9);
            }
        }

        .alert-chip-icon {
            font-size: 1.1em;
            animation: iconBlink 1s ease-in-out infinite;
        }

        .alert-chip-content {
            display: flex;
            flex-direction: row;
            gap: 6px;
            align-items: center;
        }

        .alert-chip-title {
            color: #f59e0b;
            font-weight: 600;
            font-size: 0.8em;
        }

        .alert-chip-text {
            color: #94a3b8;
            font-size: 0.75em;
            max-width: 180px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Quick Stats */
        .quick-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .quick-stat {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            padding: 16px;
            text-align: center;
        }

        .quick-stat-value {
            font-size: 1.6em;
            font-weight: 800;
            color: #38bdf8;
            margin-bottom: 4px;
        }

        .quick-stat-label {
            color: #64748b;
            font-size: 0.8em;
        }

        /* Views */
        .view-section {
            display: none;
        }

        .view-section.active {
            display: block;
        }

        /* Document View */
        .doc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
        }

        .doc-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .doc-card:hover {
            border-color: rgba(56, 189, 248, 0.3);
            transform: translateY(-4px);
        }

        .doc-icon {
            font-size: 2.5em;
            margin-bottom: 12px;
        }

        .doc-name {
            font-weight: 600;
            color: #f1f5f9;
            margin-bottom: 4px;
        }

        .doc-info {
            color: #64748b;
            font-size: 0.85em;
        }

        .doc-status {
            margin-top: 12px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            display: inline-block;
        }

        .doc-status.valid {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
        }

        .doc-status.pending {
            background: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
        }

        /* WhatsApp View */
        .whatsapp-groups {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .group-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            padding: 20px;
        }

        .group-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 16px;
        }

        .group-avatar {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }

        .group-avatar.client {
            background: linear-gradient(135deg, #38bdf8, #0ea5e9);
        }

        .group-avatar.homolog {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .group-avatar.install {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .group-name {
            font-weight: 700;
            color: #f1f5f9;
        }

        .group-desc {
            color: #64748b;
            font-size: 0.85em;
        }

        .group-stats {
            display: flex;
            gap: 20px;
            margin-top: 12px;
        }

        .group-stat {
            color: #94a3b8;
            font-size: 0.85em;
        }

        .group-stat strong {
            color: #38bdf8;
        }

        /* Analytics View */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .analytics-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            padding: 24px;
        }

        .analytics-title {
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .analytics-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.04);
        }

        .analytics-label {
            color: #94a3b8;
        }

        .analytics-value {
            font-weight: 700;
            color: #f1f5f9;
        }

        .analytics-value.highlight {
            color: #10b981;
        }

        /* Project Detail Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(2, 6, 23, 0.85);
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            z-index: 9999;
            backdrop-filter: blur(8px);
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            width: 100%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 40px 100px rgba(0, 0, 0, 0.6);
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(6, 182, 212, 0.05));
        }

        .modal-header h3 {
            color: #f1f5f9;
            font-size: 1.2em;
        }

        .modal-close {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #f1f5f9;
            width: 36px;
            height: 36px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .modal-body {
            padding: 24px;
        }

        .modal-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .modal-info-item {
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 12px;
            padding: 16px;
        }

        .modal-info-label {
            color: #64748b;
            font-size: 0.8em;
            margin-bottom: 4px;
        }

        .modal-info-value {
            color: #f1f5f9;
            font-weight: 700;
            font-size: 1.1em;
        }

        .stages-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .stage-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 16px;
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 12px;
            position: relative;
        }

        .stage-item.done {
            border-color: rgba(16, 185, 129, 0.3);
            background: rgba(16, 185, 129, 0.08);
        }

        .stage-item.current {
            border-color: rgba(56, 189, 248, 0.4);
            background: rgba(56, 189, 248, 0.1);
        }

        .stage-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85em;
            flex-shrink: 0;
            background: rgba(100, 116, 139, 0.3);
            color: #94a3b8;
        }

        .stage-item.done .stage-number {
            background: #10b981;
            color: #fff;
        }

        .stage-item.current .stage-number {
            background: #38bdf8;
            color: #0f172a;
            animation: pulse 2s infinite;
        }

        .stage-name {
            color: #94a3b8;
            font-size: 0.95em;
            flex: 1;
        }

        .stage-item.done .stage-name {
            color: #e2e8f0;
        }

        .stage-item.current .stage-name {
            color: #38bdf8;
            font-weight: 600;
        }

        .stage-check {
            color: #10b981;
            font-size: 1.2em;
        }

        .stage-date {
            color: #64748b;
            font-size: 0.8em;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
                padding: 20px 16px;
            }

            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(56, 189, 248, 0.3);
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <div class="bg-pattern"></div>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">‚ö°</div>
                    <div>
                        <div class="logo-title">TESLA</div>
                        <div class="logo-subtitle">Nikola Energia</div>
                    </div>
                </div>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Principal</div>
                    <div class="nav-item active" onclick="showView('dashboard')">
                        <span class="nav-icon">üìä</span><span>Dashboard</span>
                    </div>
                    <div class="nav-item" onclick="showView('projetos')">
                        <span class="nav-icon">üìÅ</span><span>Projetos</span>
                        <span class="nav-badge red">3</span>
                    </div>
                    <div class="nav-item" onclick="showView('clientes')">
                        <span class="nav-icon">üë•</span><span>Clientes</span>
                    </div>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Automa√ß√£o</div>
                    <div class="nav-item" onclick="showView('tesla-ia')">
                        <span class="nav-icon">ü§ñ</span><span>Tesla IA</span>
                        <span class="nav-badge green">Online</span>
                    </div>
                    <div class="nav-item" onclick="showView('whatsapp')">
                        <span class="nav-icon">üí¨</span><span>WhatsApp</span>
                    </div>
                    <div class="nav-item" onclick="showView('documentos')">
                        <span class="nav-icon">üìÑ</span><span>Documentos</span>
                    </div>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Relat√≥rios</div>
                    <div class="nav-item" onclick="showView('analytics')">
                        <span class="nav-icon">üìà</span><span>Analytics</span>
                    </div>
                    <div class="nav-item" onclick="showView('financeiro')">
                        <span class="nav-icon">üí∞</span><span>Financeiro</span>
                    </div>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Sistema</div>
                    <div class="nav-item" onclick="showView('configuracoes')">
                        <span class="nav-icon">‚öôÔ∏è</span><span>Configura√ß√µes</span>
                    </div>
                    <div class="nav-item" onclick="showView('ajuda')">
                        <span class="nav-icon">‚ùì</span><span>Ajuda</span>
                    </div>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="user-card">
                    <div class="user-avatar">NE</div>
                    <div>
                        <div class="user-name">Nikola Energia</div>
                        <div class="user-role">Administrador</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <div class="page-title">
                    <h1 id="pageTitle">Dashboard Tesla</h1>
                    <p id="pageSubtitle">Monitoramento em tempo real dos projetos de energia solar</p>
                </div>
                <div class="header-actions">
                    <div class="search-box">
                        <span>üîç</span>
                        <input type="text" placeholder="Buscar projetos, clientes...">
                    </div>
                    <div class="live-indicator">
                        <span class="live-dot"></span>
                        Tesla Online
                    </div>
                </div>
            </header>

            <div class="demo-banner">
                <div class="demo-banner-icon">üß™</div>
                <div style="flex:1">
                    <div class="demo-banner-title">Modo Demonstra√ß√£o Ativo</div>
                    <div class="demo-banner-text">Sistema Tesla processando documentos 24/7 com 97.8% de precis√£o. Dados
                        simulados.</div>
                </div>
                <button class="demo-banner-btn" onclick="window.location.href='index.html'">‚Üê
                    Voltar</button>
            </div>

            <!-- Top Alerts Bar -->
            <div class="alerts-bar" id="alertsBarTop">
                <div class="alerts-bar-inner" id="alertsBarInner">
                    <!-- Alerts will be added here dynamically -->
                </div>
            </div>

            <!-- Dashboard View -->
            <div class="view-section active" id="view-dashboard">
                <div class="kpi-grid">
                    <div class="kpi-card blue">
                        <div class="kpi-header">
                            <div class="kpi-icon">üìã</div>
                            <div class="kpi-trend up">‚Üë 12%</div>
                        </div>
                        <div class="kpi-value" id="kpiAndamento">3</div>
                        <div class="kpi-label">Projetos em Andamento</div>
                    </div>
                    <div class="kpi-card green">
                        <div class="kpi-header">
                            <div class="kpi-icon">‚úÖ</div>
                            <div class="kpi-trend up">‚Üë 8%</div>
                        </div>
                        <div class="kpi-value">12</div>
                        <div class="kpi-label">Conclu√≠dos este M√™s</div>
                    </div>
                    <div class="kpi-card amber">
                        <div class="kpi-header">
                            <div class="kpi-icon">‚è≥</div>
                            <div class="kpi-trend up">‚Üì 5%</div>
                        </div>
                        <div class="kpi-value">2</div>
                        <div class="kpi-label">Aguardando A√ß√£o</div>
                    </div>
                    <div class="kpi-card purple">
                        <div class="kpi-header">
                            <div class="kpi-icon">‚è±Ô∏è</div>
                            <div class="kpi-trend up">‚Üë 15%</div>
                        </div>
                        <div class="kpi-value">28h</div>
                        <div class="kpi-label">Tempo Economizado</div>
                    </div>
                </div>

                <div class="content-grid">
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title">üìå Projetos Ativos</div>
                            <button class="panel-btn">+ Novo Projeto</button>
                        </div>
                        <div class="panel-body">
                            <div class="project-list" id="projectList"></div>
                        </div>
                    </div>

                    <div>
                        <div class="panel">
                            <div class="panel-header">
                                <div class="panel-title">üì® Atividade em Tempo Real</div>
                            </div>
                            <div class="panel-body">
                                <div class="activity-feed" id="activityFeed"></div>
                            </div>
                        </div>
                        <div class="panel">
                            <div class="panel-header">
                                <div class="panel-title">üîî Alertas</div>
                            </div>
                            <div class="panel-body" id="alertsPanel"></div>
                        </div>
                        <div class="quick-stats">
                            <div class="quick-stat">
                                <div class="quick-stat-value">97.8%</div>
                                <div class="quick-stat-label">Taxa de Precis√£o</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value">2.3s</div>
                                <div class="quick-stat-label">Tempo de Resposta</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Projetos View -->
            <div class="view-section" id="view-projetos">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üìÅ Todos os Projetos</div>
                        <button class="panel-btn">Exportar Excel</button>
                    </div>
                    <div class="panel-body">
                        <div class="project-list" id="allProjectsList"></div>
                    </div>
                </div>
            </div>

            <!-- Documentos View -->
            <div class="view-section" id="view-documentos">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üìÑ Documentos Processados</div>
                    </div>
                    <div class="panel-body">
                        <div class="doc-grid">
                            <div class="doc-card">
                                <div class="doc-icon">üìã</div>
                                <div class="doc-name">Procura√ß√£o Jo√£o Silva</div>
                                <div class="doc-info">CPF: 123.456.789-00</div>
                                <div class="doc-status valid">‚úì Validada</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üìù</div>
                                <div class="doc-name">Contrato Marcos Santos</div>
                                <div class="doc-info">6 kWp ‚Ä¢ R$ 28.900</div>
                                <div class="doc-status valid">‚úì Assinado</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üì∏</div>
                                <div class="doc-name">Fotos Instala√ß√£o Roberto</div>
                                <div class="doc-info">24 m√≥dulos detectados</div>
                                <div class="doc-status valid">‚úì Aprovada</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">ü™™</div>
                                <div class="doc-name">RG/CPF Maria Oliveira</div>
                                <div class="doc-info">Confian√ßa: 98%</div>
                                <div class="doc-status valid">‚úì Validado</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üìã</div>
                                <div class="doc-name">Procura√ß√£o Carlos Mendes</div>
                                <div class="doc-info">CPF: 987.654.321-00</div>
                                <div class="doc-status valid">‚úì Validada</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üìù</div>
                                <div class="doc-name">Contrato Ana Costa</div>
                                <div class="doc-info">7.5 kWp ‚Ä¢ R$ 35.800</div>
                                <div class="doc-status valid">‚úì Assinado</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üìÑ</div>
                                <div class="doc-name">Parecer Pedro Ferreira</div>
                                <div class="doc-info">Homologa√ß√£o aprovada</div>
                                <div class="doc-status valid">‚úì Aprovado</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üì∏</div>
                                <div class="doc-name">Fotos Telhado Ana Costa</div>
                                <div class="doc-info">18 m√≥dulos instalados</div>
                                <div class="doc-status pending">‚è≥ Analisando</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üè†</div>
                                <div class="doc-name">Comprovante Endere√ßo</div>
                                <div class="doc-info">Fernanda Souza</div>
                                <div class="doc-status valid">‚úì Validado</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">‚ö°</div>
                                <div class="doc-name">Foto Medidor Ricardo</div>
                                <div class="doc-info">Bif√°sico 127/220V</div>
                                <div class="doc-status valid">‚úì Identificado</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üìù</div>
                                <div class="doc-name">Contrato Beatriz Santos</div>
                                <div class="doc-info">6.5 kWp ‚Ä¢ R$ 31.000</div>
                                <div class="doc-status valid">‚úì Assinado</div>
                            </div>
                            <div class="doc-card">
                                <div class="doc-icon">üìã</div>
                                <div class="doc-name">Procura√ß√£o Ricardo Alves</div>
                                <div class="doc-info">CPF: 456.789.123-00</div>
                                <div class="doc-status pending">‚è≥ Verificando</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- WhatsApp View -->
            <div class="view-section" id="view-whatsapp">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üí¨ Grupos Monitorados</div>
                    </div>
                    <div class="panel-body">
                        <div class="whatsapp-groups">
                            <div class="group-card">
                                <div class="group-header">
                                    <div class="group-avatar client">üë•</div>
                                    <div>
                                        <div class="group-name">Grupo do Cliente</div>
                                        <div class="group-desc">Voc√™ + 1 Cliente por grupo</div>
                                    </div>
                                </div>
                                <p style="color:#94a3b8;font-size:0.9em;margin-bottom:12px;">Tesla l√™ documentos,
                                    responde d√∫vidas ap√≥s 4h de sil√™ncio, marca checkpoints automaticamente.</p>
                                <div class="group-stats">
                                    <div class="group-stat"><strong>12</strong> grupos ativos</div>
                                    <div class="group-stat"><strong>89</strong> mensagens hoje</div>
                                </div>
                            </div>
                            <div class="group-card">
                                <div class="group-header">
                                    <div class="group-avatar homolog">üè¢</div>
                                    <div>
                                        <div class="group-name">Grupo de Homologa√ß√£o</div>
                                        <div class="group-desc">Voc√™ + Jorge (Operacional)</div>
                                    </div>
                                </div>
                                <p style="color:#94a3b8;font-size:0.9em;margin-bottom:12px;">Consolida informa√ß√µes,
                                    envia resumo di√°rio √†s 09:00, alerta prazos vencidos.</p>
                                <div class="group-stats">
                                    <div class="group-stat"><strong>8</strong> projetos em homologa√ß√£o</div>
                                    <div class="group-stat"><strong>2</strong> alertas pendentes</div>
                                </div>
                            </div>
                            <div class="group-card">
                                <div class="group-header">
                                    <div class="group-avatar install">üîß</div>
                                    <div>
                                        <div class="group-name">Grupo de Instaladores</div>
                                        <div class="group-desc">Voc√™ + 3 Instaladores</div>
                                    </div>
                                </div>
                                <p style="color:#94a3b8;font-size:0.9em;margin-bottom:12px;">Envia propostas, recebe
                                    fotos de progresso, valida qualidade das instala√ß√µes.</p>
                                <div class="group-stats">
                                    <div class="group-stat"><strong>3</strong> obras ativas</div>
                                    <div class="group-stat"><strong>15</strong> fotos recebidas</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics View -->
            <div class="view-section" id="view-analytics">
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <div class="analytics-title">üìä Relat√≥rio Autom√°tico Tesla AI</div>
                        <div class="analytics-row">
                            <span class="analytics-label">Documentos Processados</span>
                            <span class="analytics-value">156</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">Taxa de Precis√£o</span>
                            <span class="analytics-value highlight">97.8%</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">Notifica√ß√µes Enviadas</span>
                            <span class="analytics-value">89</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">Tempo M√©dio de Resposta</span>
                            <span class="analytics-value">2.3s</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">Uptime do Sistema</span>
                            <span class="analytics-value highlight">99.9%</span>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-title">üí∞ Resumo Financeiro</div>
                        <div class="analytics-row">
                            <span class="analytics-label">Total Processado</span>
                            <span class="analytics-value">R$ 485.250</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">Projetos</span>
                            <span class="analytics-value">12</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">Tempo Economizado</span>
                            <span class="analytics-value highlight">28 horas</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">Equivalente</span>
                            <span class="analytics-value highlight">R$ 1.260</span>
                        </div>
                        <div class="analytics-row">
                            <span class="analytics-label">ROI</span>
                            <span class="analytics-value highlight">34 dias</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tesla IA View -->
            <div class="view-section" id="view-tesla-ia">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">ü§ñ Tesla IA - Status</div>
                        <div class="live-indicator"><span class="live-dot"></span> Processando</div>
                    </div>
                    <div class="panel-body">
                        <div
                            style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px;">
                            <div class="quick-stat">
                                <div class="quick-stat-value">95%+</div>
                                <div class="quick-stat-label">Precis√£o Identifica√ß√£o</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value">24/7</div>
                                <div class="quick-stat-label">Monitoramento</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value">2s</div>
                                <div class="quick-stat-label">Tempo Processamento</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value">GPT-4</div>
                                <div class="quick-stat-label">Motor IA</div>
                            </div>
                        </div>
                        <div
                            style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:14px;padding:20px;">
                            <h4 style="color:#10b981;margin-bottom:12px;">‚úÖ Tecnologias Ativas</h4>
                            <p style="color:#94a3b8;font-size:0.9em;line-height:1.6;">
                                ‚Ä¢ Google Vision API - Leitura de imagens<br>
                                ‚Ä¢ OCR Alta Precis√£o - Extra√ß√£o de texto<br>
                                ‚Ä¢ GPT-4 - Compreens√£o de contexto<br>
                                ‚Ä¢ Named Entity Recognition - Identifica√ß√£o de dados<br>
                                ‚Ä¢ Valida√ß√£o Autom√°tica - CPF, datas, valores
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other Views (placeholder) -->
            <div class="view-section" id="view-clientes">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üë• Clientes</div>
                    </div>
                    <div class="panel-body">
                        <p style="color:#94a3b8;">Lista de clientes cadastrados no sistema.</p>
                    </div>
                </div>
            </div>
            <div class="view-section" id="view-financeiro">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üí∞ Financeiro</div>
                    </div>
                    <div class="panel-body">
                        <p style="color:#94a3b8;">M√≥dulo financeiro em desenvolvimento.</p>
                    </div>
                </div>
            </div>
            <div class="view-section" id="view-configuracoes">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">‚öôÔ∏è Configura√ß√µes</div>
                    </div>
                    <div class="panel-body">
                        <p style="color:#94a3b8;">Configura√ß√µes do sistema Tesla.</p>
                    </div>
                </div>
            </div>
            <div class="view-section" id="view-ajuda">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">‚ùì Ajuda</div>
                    </div>
                    <div class="panel-body">
                        <p style="color:#94a3b8;">Central de ajuda e suporte.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Project Detail Modal -->
    <div class="modal-overlay" id="projectModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Detalhes do Projeto</h3>
                <button class="modal-close" onclick="closeProjectModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="modal-info-grid" id="modalInfoGrid"></div>
                <h4 style="color:#38bdf8;margin-bottom:16px;display:flex;align-items:center;gap:10px;">
                    üìã Etapas do Projeto
                </h4>
                <div class="stages-list" id="modalStagesList"></div>
            </div>
        </div>
    </div>

    <script>
        const stages = ["Contrato", "Docs Pessoais", "Procura√ß√£o", "Parecer", "Kit Compra", "Kit Entrega", "Instala√ß√£o Marcada", "Instala√ß√£o OK", "Aprova√ß√£o", "Rel√≥gio", "Conclu√≠do"];
        const projects = [
            { id: "100", cliente: "Jo√£o Silva", potencia: "8.5 kWp", valor: "R$ 42.500", done: 2, status: "Em andamento" },
            { id: "150", cliente: "Marcos Santos", potencia: "6 kWp", valor: "R$ 28.900", done: 1, status: "Em andamento" },
            { id: "130", cliente: "Roberto Lima", potencia: "10 kWp", valor: "R$ 48.000", done: 3, status: "Homologa√ß√£o" },
            { id: "175", cliente: "Maria Oliveira", potencia: "5 kWp", valor: "R$ 24.500", done: 6, status: "Em instala√ß√£o" },
            { id: "182", cliente: "Carlos Mendes", potencia: "12 kWp", valor: "R$ 58.000", done: 8, status: "Aguardando aprova√ß√£o" },
            { id: "190", cliente: "Ana Costa", potencia: "7.5 kWp", valor: "R$ 35.800", done: 4, status: "Kit comprado" },
            { id: "195", cliente: "Pedro Ferreira", potencia: "15 kWp", valor: "R$ 72.000", done: 11, status: "Conclu√≠do" },
            { id: "200", cliente: "Fernanda Souza", potencia: "4 kWp", valor: "R$ 19.900", done: 0, status: "Novo" },
            { id: "205", cliente: "Ricardo Alves", potencia: "9 kWp", valor: "R$ 43.200", done: 5, status: "Kit em entrega" },
            { id: "210", cliente: "Beatriz Santos", potencia: "6.5 kWp", valor: "R$ 31.000", done: 7, status: "Instala√ß√£o marcada" }
        ];
        const events = [
            { type: "log", icon: "doc", text: "üì± <strong>Grupo Jo√£o Silva</strong>: contrato recebido. Tesla salvou na pasta." },
            { type: "update", projectId: "100", done: 1, status: "Documentos recebidos", icon: "success", log: "üß† Tesla extraiu: pot√™ncia, valor e nome do cliente." },
            { type: "update", projectId: "100", done: 2, status: "Procura√ß√£o pendente", icon: "doc", log: "üìÑ <strong>Proj 100</strong>: RG/CPF recebidos e registrados." },
            { type: "update", projectId: "130", done: 4, status: "Em homologa√ß√£o", icon: "success", log: "üè¢ <strong>Proj 130</strong>: Parecer aprovado!" },
            { type: "alert", text: "PROJ 130: Parecer aprovado. Confirmar compra do kit.", title: "A√ß√£o Necess√°ria" },
            { type: "update", projectId: "130", done: 5, status: "Kit em compra", icon: "success", log: "üõí Compra do kit confirmada." },
            { type: "alert", text: "PROJ 100: Procura√ß√£o pendente h√° 5 dias.", title: "Documento Pendente" },
            { type: "update", projectId: "150", done: 2, status: "Procura√ß√£o recebida", icon: "success", log: "‚úÖ <strong>Proj 150</strong>: procura√ß√£o validada." },
            { type: "update", projectId: "130", done: 6, status: "Entrega agendada", icon: "info", log: "üöö Entrega do kit confirmada." },
            { type: "update", projectId: "130", done: 7, status: "Instala√ß√£o marcada", icon: "success", log: "üìÖ Instala√ß√£o agendada." },
            { type: "update", projectId: "130", done: 8, status: "Instala√ß√£o OK", icon: "success", log: "üì∏ Fotos recebidas. Instala√ß√£o conclu√≠da." },
            { type: "alert", text: "PROJ 130: Instala√ß√£o conclu√≠da. Aguardar aprova√ß√£o.", title: "Progresso" },
            { type: "update", projectId: "130", done: 9, status: "Aprova√ß√£o recebida", icon: "success", log: "üéâ Projeto aprovado!" },
            { type: "update", projectId: "130", done: 10, status: "Troca agendada", icon: "info", log: "üïí Troca de rel√≥gio agendada." },
            { type: "update", projectId: "130", done: 11, status: "Conclu√≠do", icon: "success", log: "‚úÖ <strong>Projeto 130 CONCLU√çDO!</strong>" }
        ];

        const viewTitles = {
            'dashboard': ['Dashboard Tesla', 'Monitoramento em tempo real dos projetos de energia solar'],
            'projetos': ['Projetos', 'Gerencie todos os projetos de energia solar'],
            'clientes': ['Clientes', 'Base de clientes cadastrados'],
            'tesla-ia': ['Tesla IA', 'Intelig√™ncia Artificial processando documentos 24/7'],
            'whatsapp': ['WhatsApp', 'Grupos monitorados pelo Tesla'],
            'documentos': ['Documentos', 'Arquivos processados automaticamente'],
            'analytics': ['Analytics', 'Relat√≥rios e m√©tricas do sistema'],
            'financeiro': ['Financeiro', 'Gest√£o financeira dos projetos'],
            'configuracoes': ['Configura√ß√µes', 'Configura√ß√µes do sistema'],
            'ajuda': ['Ajuda', 'Central de suporte']
        };

        function showView(viewId) {
            document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('view-' + viewId)?.classList.add('active');
            event.currentTarget.classList.add('active');
            const titles = viewTitles[viewId] || ['Dashboard', ''];
            document.getElementById('pageTitle').textContent = titles[0];
            document.getElementById('pageSubtitle').textContent = titles[1];
            if (viewId === 'projetos') renderAllProjects();
        }

        function renderProjects() {
            const container = document.getElementById('projectList');
            container.innerHTML = '';
            projects.forEach((p, idx) => {
                const progress = Math.round((p.done / stages.length) * 100);
                const statusClass = p.done >= stages.length ? 'status-complete' : p.status.includes('Homolog') ? 'status-homolog' : 'status-progress';
                container.innerHTML += `
                    <div class="project-card" id="project-${p.id}" onclick="openProjectModal('${p.id}')">
                        <div class="project-header">
                            <div class="project-info">
                                <div class="project-avatar">${p.cliente.split(' ').map(n => n[0]).join('')}</div>
                                <div><div class="project-name">PROJ ${p.id} ‚Äî ${p.cliente}</div><div class="project-meta">${p.potencia} ‚Ä¢ ${p.valor}</div></div>
                            </div>
                            <span class="project-status ${statusClass}" id="status-${p.id}">${p.status}</span>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">Progresso</span><span class="progress-value" id="pv-${p.id}">${progress}%</span></div>
                            <div class="progress-bar"><div class="progress-fill" id="pf-${p.id}" style="width:${progress}%"></div></div>
                        </div>
                        <div class="stages-mini" id="stages-${p.id}">${stages.map((_, i) => `<div class="stage-dot ${i < p.done ? 'done' : i === p.done ? 'current' : ''}"></div>`).join('')}</div>
                    </div>`;
            });
        }

        function renderAllProjects() {
            const container = document.getElementById('allProjectsList');
            if (!container) return;
            container.innerHTML = '';
            projects.forEach((p, idx) => {
                const progress = Math.round((p.done / stages.length) * 100);
                const statusClass = p.done >= stages.length ? 'status-complete' : p.status.includes('Homolog') ? 'status-homolog' : 'status-progress';
                container.innerHTML += `
                    <div class="project-card" onclick="openProjectModal('${p.id}')">
                        <div class="project-header">
                            <div class="project-info">
                                <div class="project-avatar">${p.cliente.split(' ').map(n => n[0]).join('')}</div>
                                <div><div class="project-name">PROJ ${p.id} ‚Äî ${p.cliente}</div><div class="project-meta">${p.potencia} ‚Ä¢ ${p.valor}</div></div>
                            </div>
                            <span class="project-status ${statusClass}">${p.status}</span>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">Progresso</span><span class="progress-value">${progress}%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width:${progress}%"></div></div>
                        </div>
                        <div class="stages-mini">${stages.map((_, i) => `<div class="stage-dot ${i < p.done ? 'done' : i === p.done ? 'current' : ''}"></div>`).join('')}</div>
                    </div>`;
            });
        }

        function addActivity(text, icon = 'doc') {
            const container = document.getElementById('activityFeed');
            const icons = { doc: 'üìÑ', success: '‚úÖ', warning: '‚ö†Ô∏è', info: 'üí°' };
            container.insertAdjacentHTML('afterbegin', `
                <div class="activity-item">
                    <div class="activity-icon ${icon}">${icons[icon] || 'üìÑ'}</div>
                    <div><div class="activity-text">${text}</div><div class="activity-time">${new Date().toLocaleTimeString('pt-BR')}</div></div>
                </div>`);
            while (container.children.length > 8) container.removeChild(container.lastChild);
        }

        function addAlert(title, text) {
            // Add to top alerts bar (horizontal only)
            const topBar = document.getElementById('alertsBarInner');
            if (topBar) {
                topBar.insertAdjacentHTML('afterbegin', `
                    <div class="alert-chip">
                        <div class="alert-chip-icon">üîî</div>
                        <div class="alert-chip-content">
                            <span class="alert-chip-title">${title}</span>
                            <span class="alert-chip-text">${text}</span>
                        </div>
                    </div>`);
                while (topBar.children.length > 4) topBar.removeChild(topBar.lastChild);
            }
        }

        function updateProject(projectId, done, status) {
            const proj = projects.find(x => x.id === projectId);
            if (!proj) return;
            proj.done = Math.max(proj.done, done);
            proj.status = status || proj.status;
            const progress = Math.round((proj.done / stages.length) * 100);
            const statusClass = proj.done >= stages.length ? 'status-complete' : proj.status.includes('Homolog') ? 'status-homolog' : 'status-progress';
            const statusEl = document.getElementById(`status-${projectId}`);
            if (statusEl) { statusEl.textContent = proj.status; statusEl.className = `project-status ${statusClass}`; }
            const pv = document.getElementById(`pv-${projectId}`);
            const pf = document.getElementById(`pf-${projectId}`);
            if (pv) pv.textContent = `${progress}%`;
            if (pf) pf.style.width = `${progress}%`;
            const stagesEl = document.getElementById(`stages-${projectId}`);
            if (stagesEl) stagesEl.innerHTML = stages.map((_, i) => `<div class="stage-dot ${i < proj.done ? 'done' : i === proj.done ? 'current' : ''}"></div>`).join('');
        }

        let simStep = 0, simTimer = null;
        function startSimulation() {
            addActivity('üü¢ <strong>Tesla online</strong>: monitorando grupos e processando documentos 24/7.', 'success');
            simTimer = setInterval(() => {
                if (simStep >= events.length) { addActivity('üìä <strong>Demo finalizada</strong>. Sistema roda 24/7 na opera√ß√£o real.', 'info'); clearInterval(simTimer); return; }
                const ev = events[simStep++];
                if (ev.type === 'log') addActivity(ev.text, ev.icon || 'doc');
                if (ev.type === 'alert') addAlert(ev.title, ev.text);
                if (ev.type === 'update') { updateProject(ev.projectId, ev.done, ev.status); addActivity(ev.log, ev.icon || 'success'); }
            }, 2500);
        }

        // Gerar datas simuladas para os stages
        function getStageDate(projectId, stageIndex, done) {
            if (stageIndex >= done) return null;
            const baseDate = new Date(2026, 0, 5);
            baseDate.setDate(baseDate.getDate() + stageIndex * 2);
            return `${String(baseDate.getDate()).padStart(2, '0')}/${String(baseDate.getMonth() + 1).padStart(2, '0')}/${baseDate.getFullYear()}`;
        }

        function openProjectModal(projectId) {
            const proj = projects.find(x => x.id === projectId);
            if (!proj) return;

            document.getElementById('modalTitle').textContent = `PROJ ${proj.id} ‚Äî ${proj.cliente}`;

            const progress = Math.round((proj.done / stages.length) * 100);
            document.getElementById('modalInfoGrid').innerHTML = `
                <div class="modal-info-item"><div class="modal-info-label">Cliente</div><div class="modal-info-value">${proj.cliente}</div></div>
                <div class="modal-info-item"><div class="modal-info-label">Pot√™ncia</div><div class="modal-info-value">${proj.potencia}</div></div>
                <div class="modal-info-item"><div class="modal-info-label">Valor</div><div class="modal-info-value">${proj.valor}</div></div>
                <div class="modal-info-item"><div class="modal-info-label">Progresso</div><div class="modal-info-value">${progress}%</div></div>
                <div class="modal-info-item"><div class="modal-info-label">Status</div><div class="modal-info-value">${proj.status}</div></div>
                <div class="modal-info-item"><div class="modal-info-label">Pr√≥xima Etapa</div><div class="modal-info-value">${proj.done < stages.length ? stages[proj.done] : 'Conclu√≠do'}</div></div>
            `;

            document.getElementById('modalStagesList').innerHTML = stages.map((stage, i) => {
                const isDone = i < proj.done;
                const isCurrent = i === proj.done;
                const stageDate = getStageDate(proj.id, i, proj.done);
                return `
                    <div class="stage-item ${isDone ? 'done' : ''} ${isCurrent ? 'current' : ''}">
                        <div class="stage-number">${isDone ? '‚úì' : i + 1}</div>
                        <div class="stage-name">${stage}</div>
                        ${isDone ? `<span class="stage-date">${stageDate}</span>` : ''}
                        ${isCurrent ? '<span style="color:#38bdf8;font-size:0.8em;">‚Üê Atual</span>' : ''}
                    </div>
                `;
            }).join('');

            document.getElementById('projectModal').classList.add('active');
        }

        function closeProjectModal() {
            document.getElementById('projectModal').classList.remove('active');
        }

        // Fechar modal ao clicar fora
        document.getElementById('projectModal').addEventListener('click', (e) => {
            if (e.target.id === 'projectModal') closeProjectModal();
        });

        document.addEventListener('DOMContentLoaded', () => {
            renderProjects();
            // Add initial alerts on load
            addAlert('üìä Sistema Online', 'Tesla monitorando 10 projetos ativamente');
            addAlert('‚ö†Ô∏è Documento Pendente', 'PROJ 100: Procura√ß√£o pendente h√° 5 dias');
            addAlert('‚úÖ Parecer Aprovado', 'PROJ 130: Homologa√ß√£o confirmada');
            startSimulation();
        });
    </script>
</body>

</html>